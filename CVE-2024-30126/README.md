# CVE-2024-30126 Flask Demo

This is a demo project to understand and test the **Clickjacking vulnerability (CVE-2024-30126)** using Python Flask.

## 🧪 Description

This demo contains:
- A **vulnerable** version of the web interface (routes starting with `/vuln`)
- A **secure** version with protection via `X-Frame-Options` headers (routes starting with `/secure`)
- An `attacker.html` page that simulates clickjacking using an iframe.

## 🚀 How to Run

1. Install Flask if you haven't:

```bash
pip install flask
```

2. Run the Flask app:

```bash
python app.py
```

3. Open your browser and test:

- Vulnerable Page: [http://localhost:5000/vuln/settings](http://localhost:5000/vuln/settings)
- Secure Page: [http://localhost:5000/secure/settings](http://localhost:5000/secure/settings)

4. Open `attacker.html` in your browser to simulate a clickjacking attack on the vulnerable page.

> You can edit the `src` in the iframe to test against the secure page as well.

## 🔐 CVE-2024-30126 Summary

Microsoft SharePoint was vulnerable to **Clickjacking**, allowing attackers to load sensitive interfaces in an iframe and trick users into performing actions.

**Mitigation:**
Set the `X-Frame-Options` header to `DENY` or `SAMEORIGIN`.

In Flask:

```python
@app.after_request
def add_security_headers(response):
    response.headers['X-Frame-Options'] = 'DENY'
    return response
```

## 📁 Files

- `app.py`: Flask app with both vulnerable and secure versions.
- `attacker.html`: Simulated attacker page using an invisible iframe.
- `README.md`: You're reading it.

## 📚 References

- [CVE-2024-30126 on NVD](https://nvd.nist.gov/vuln/detail/CVE-2024-30126)
