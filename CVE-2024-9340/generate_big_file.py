from string import ascii_lowercase, ascii_uppercase, digits
from random import choice
import sys
import os

a = ascii_lowercase + ascii_uppercase + digits
b = list(a)

total = 9_999_999  # reduced for testing; change to 99999999999 if you want
bar_length = 50

if os.path.exists("./test-res.txt"):
     with open("test-res.txt", "w") as f:
          for i in range(total):
               f.write(choice(b))
               # Print progress bar every 100,000 iterations to reduce overhead
               if i % 100_000 == 0 or i == total - 1:
                    percent = i / total
                    filled = int(bar_length * percent)
                    bar = "█" * filled + "-" * (bar_length - filled)
                    sys.stdout.write(f"\rProgress: |{bar}| {percent:.2%}")
                    sys.stdout.flush()
          print("\nDone.")
else:
     with open("test-res.txt", "x") as f:
          for i in range(total):
               f.write(choice(b))
               # Print progress bar every 100,000 iterations to reduce overhead
               if i % 100_000 == 0 or i == total - 1:
                    percent = i / total
                    filled = int(bar_length * percent)
                    bar = "█" * filled + "-" * (bar_length - filled)
                    sys.stdout.write(f"\rProgress: |{bar}| {percent:.2%}")
                    sys.stdout.flush()
          print("\nDone.")